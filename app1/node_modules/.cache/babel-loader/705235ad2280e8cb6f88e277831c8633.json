{"ast":null,"code":"function getAggregatedStats(records) {\n  return {\n    'Total Posts': records.length,\n    ...getTotalAndAverageFromRecords(records)\n  };\n}\n\nfunction getTotalAndAverageFromRecords(records) {\n  const calculations = metrics.reduce((acc, metric) => {\n    acc[`Total ${metric}`] = 0;\n    return acc;\n  }, {});\n  const len = records.length;\n\n  for (const record of records) {\n    metrics.forEach(metric => {\n      calculations[`Total ${metric}`] += parseFloat(record[metric]);\n    });\n  }\n\n  metrics.forEach(metric => {\n    calculations[`Average ${metric}`] = len === 0 ? 0 : calculations[`Total ${metric}`] / len;\n  });\n  return calculations;\n}\n\nmodule.exports = getAggregatedStats;","map":{"version":3,"names":["getAggregatedStats","records","length","getTotalAndAverageFromRecords","calculations","metrics","reduce","acc","metric","len","record","forEach","parseFloat","module","exports"],"sources":["/Users/milanravenell/Documents/digital_dash/digital-dash-app/src/data-manipulations/get-aggregated-stats.js"],"sourcesContent":["function getAggregatedStats(records) {\n    return {\n        'Total Posts': records.length,\n        ...getTotalAndAverageFromRecords(records)\n    };\n}\n\nfunction getTotalAndAverageFromRecords(records) {\n    const calculations = metrics.reduce((acc, metric) => {\n        acc[`Total ${metric}`] = 0\n        return acc\n    }, {});\n\n    const len = records.length;\n\n    for (const record of records) {\n        metrics.forEach((metric) => {\n            calculations[`Total ${metric}`] += parseFloat((record[metric]));\n        });\n    }\n\n    metrics.forEach((metric) => {\n        calculations[`Average ${metric}`] = (len === 0) ? 0 : calculations[`Total ${metric}`] / len\n    });\n\n    return calculations;\n}\n\nmodule.exports = getAggregatedStats;"],"mappings":"AAAA,SAASA,kBAAT,CAA4BC,OAA5B,EAAqC;EACjC,OAAO;IACH,eAAeA,OAAO,CAACC,MADpB;IAEH,GAAGC,6BAA6B,CAACF,OAAD;EAF7B,CAAP;AAIH;;AAED,SAASE,6BAAT,CAAuCF,OAAvC,EAAgD;EAC5C,MAAMG,YAAY,GAAGC,OAAO,CAACC,MAAR,CAAe,CAACC,GAAD,EAAMC,MAAN,KAAiB;IACjDD,GAAG,CAAE,SAAQC,MAAO,EAAjB,CAAH,GAAyB,CAAzB;IACA,OAAOD,GAAP;EACH,CAHoB,EAGlB,EAHkB,CAArB;EAKA,MAAME,GAAG,GAAGR,OAAO,CAACC,MAApB;;EAEA,KAAK,MAAMQ,MAAX,IAAqBT,OAArB,EAA8B;IAC1BI,OAAO,CAACM,OAAR,CAAiBH,MAAD,IAAY;MACxBJ,YAAY,CAAE,SAAQI,MAAO,EAAjB,CAAZ,IAAmCI,UAAU,CAAEF,MAAM,CAACF,MAAD,CAAR,CAA7C;IACH,CAFD;EAGH;;EAEDH,OAAO,CAACM,OAAR,CAAiBH,MAAD,IAAY;IACxBJ,YAAY,CAAE,WAAUI,MAAO,EAAnB,CAAZ,GAAqCC,GAAG,KAAK,CAAT,GAAc,CAAd,GAAkBL,YAAY,CAAE,SAAQI,MAAO,EAAjB,CAAZ,GAAkCC,GAAxF;EACH,CAFD;EAIA,OAAOL,YAAP;AACH;;AAEDS,MAAM,CAACC,OAAP,GAAiBd,kBAAjB"},"metadata":{},"sourceType":"module"}