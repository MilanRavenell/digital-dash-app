{"ast":null,"code":"function getAggregatedStats(records, metrics) {\n  return {\n    'Total Posts': records.length,\n    ...getTotalAndAverageFromRecords(records, metrics)\n  };\n}\n\nfunction getTotalAndAverageFromRecords(records, metrics) {\n  const calculations = metrics.reduce((acc, metric) => {\n    acc[`Total ${metric}`] = 0;\n    return acc;\n  }, {});\n  const len = records.length;\n\n  for (const record of records) {\n    metrics.forEach(metric => {\n      calculations[`Total ${metric}`] += parseFloat(record[metric]);\n    });\n  }\n\n  metrics.forEach(metric => {\n    calculations[`Average ${metric}`] = len === 0 ? 0 : calculations[`Total ${metric}`] / len;\n  });\n  return calculations;\n}\n\nmodule.exports = getAggregatedStats;","map":{"version":3,"names":["getAggregatedStats","records","metrics","length","getTotalAndAverageFromRecords","calculations","reduce","acc","metric","len","record","forEach","parseFloat","module","exports"],"sources":["/Users/milanravenell/Documents/digital_dash/digital-dash-app/src/data-manipulations/get-aggregated-stats.js"],"sourcesContent":["function getAggregatedStats(records, metrics) {\n    return {\n        'Total Posts': records.length,\n        ...getTotalAndAverageFromRecords(records, metrics)\n    };\n}\n\nfunction getTotalAndAverageFromRecords(records, metrics) {\n    const calculations = metrics.reduce((acc, metric) => {\n        acc[`Total ${metric}`] = 0\n        return acc\n    }, {});\n\n    const len = records.length;\n\n    for (const record of records) {\n        metrics.forEach((metric) => {\n            calculations[`Total ${metric}`] += parseFloat((record[metric]));\n        });\n    }\n\n    metrics.forEach((metric) => {\n        calculations[`Average ${metric}`] = (len === 0) ? 0 : calculations[`Total ${metric}`] / len\n    });\n\n    return calculations;\n}\n\nmodule.exports = getAggregatedStats;"],"mappings":"AAAA,SAASA,kBAAT,CAA4BC,OAA5B,EAAqCC,OAArC,EAA8C;EAC1C,OAAO;IACH,eAAeD,OAAO,CAACE,MADpB;IAEH,GAAGC,6BAA6B,CAACH,OAAD,EAAUC,OAAV;EAF7B,CAAP;AAIH;;AAED,SAASE,6BAAT,CAAuCH,OAAvC,EAAgDC,OAAhD,EAAyD;EACrD,MAAMG,YAAY,GAAGH,OAAO,CAACI,MAAR,CAAe,CAACC,GAAD,EAAMC,MAAN,KAAiB;IACjDD,GAAG,CAAE,SAAQC,MAAO,EAAjB,CAAH,GAAyB,CAAzB;IACA,OAAOD,GAAP;EACH,CAHoB,EAGlB,EAHkB,CAArB;EAKA,MAAME,GAAG,GAAGR,OAAO,CAACE,MAApB;;EAEA,KAAK,MAAMO,MAAX,IAAqBT,OAArB,EAA8B;IAC1BC,OAAO,CAACS,OAAR,CAAiBH,MAAD,IAAY;MACxBH,YAAY,CAAE,SAAQG,MAAO,EAAjB,CAAZ,IAAmCI,UAAU,CAAEF,MAAM,CAACF,MAAD,CAAR,CAA7C;IACH,CAFD;EAGH;;EAEDN,OAAO,CAACS,OAAR,CAAiBH,MAAD,IAAY;IACxBH,YAAY,CAAE,WAAUG,MAAO,EAAnB,CAAZ,GAAqCC,GAAG,KAAK,CAAT,GAAc,CAAd,GAAkBJ,YAAY,CAAE,SAAQG,MAAO,EAAjB,CAAZ,GAAkCC,GAAxF;EACH,CAFD;EAIA,OAAOJ,YAAP;AACH;;AAEDQ,MAAM,CAACC,OAAP,GAAiBd,kBAAjB"},"metadata":{},"sourceType":"module"}